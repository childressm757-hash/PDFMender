<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ETYW9NNRDN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ETYW9NNRDN');
</script>

  <title>PDF Tool</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; background:#fafafa; color:#222; padding:40px; max-width:720px; margin:auto; }
    h1 { font-size: 2rem; margin: 0 0 0.5rem; }
    .desc { font-size: 1.05rem; color:#555; margin-bottom: 1.25rem; }
    .trust { font-size: .9rem; color:#777; margin-bottom: 1.5rem; }
    .box { background:#fff; border:1px solid #ddd; padding:20px; border-radius:10px; }
    button { margin-top: 12px; padding: 10px 14px; font-size: 1rem; cursor: pointer; }
  </style>
</head>
<body>
  <h1 id="tool-name">PDF Tool</h1>
  <div class="desc" id="tool-desc">Upload your PDF(s) and run the tool.</div>
  <div class="trust">Files are processed and discarded automatically. This is a simple utility â€” no account needed.</div>

  <div class="box">
    <form method="POST" enctype="multipart/form-data">
      <input type="file" id="fileInput" name="files" multiple required accept="application/pdf"/>
      <br />
      <button type="submit" id="btn">Run Tool</button>
    </form>
  </div>

  <script>
    (async () => {
      const slug = location.pathname.split("/").filter(Boolean).pop();
      const res = await fetch("/tools.json");
      const data = await res.json();

      const tool = (data.tools || []).find(t => t.id === slug && t.enabled);
      if (!tool) {
        document.getElementById("tool-name").innerText = "Tool not found";
        document.getElementById("tool-desc").innerText = "This tool is not registered or is disabled.";
        return;
      }

      document.title = tool.name + " | PDFMender";
      document.getElementById("tool-name").innerText = tool.name;

      document.getElementById("tool-desc").innerText =
        tool.engine === "merge" ? "Combine multiple PDFs into one file." :
        tool.engine === "compress" ? "Reduce PDF size for email and sharing (single PDF input)." :
        "PDF tool.";

      // Helpful UX: compress should be 1 file, merge can be many
      const input = document.getElementById("fileInput");
      if (tool.engine === "compress") input.removeAttribute("multiple");
    })();
  </script>
</body>
</html>
