<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Business Factory Admin</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
    }
    h1 {
      margin-bottom: 10px;
    }
    .card {
      border: 1px solid #ccc;
      padding: 15px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>Business Factory Admin</h1>
  <p>One console. Multiple businesses. Approvals + visibility.</p>

  <div id="root">Loadingâ€¦</div>

  <script>
    fetch("/admin-data.json")
      .then(res => {
        if (!res.ok) throw new Error("Failed to fetch admin data");
        return res.json();
      })
      .then(data => {
        const root = document.getElementById("root");
        root.innerHTML = "";

        data.businesses.forEach(b => {
          const div = document.createElement("div");
          div.className = "card";
          div.innerHTML = `
            <strong>${b.name}</strong><br/>
            Type: ${b.type}<br/>
            Engines: ${b.status.engines}<br/>
            Automation: ${b.status.automation}<br/>
            SEO: ${b.status.seo}<br/>
            Errors: ${b.status.errors}
          `;
          root.appendChild(div);
        });
      })
      .catch(err => {
        document.getElementById("root").innerHTML =
          "<b>Failed to load admin data.</b><br/>" + err.message;
      });
  </script>
</body>
</html>
